# Come creare un progetto ASP.NET Core
1. File > New > Project > ASP.NET Core Web Application
2. Scegliere il template "Empty" e quindi "No Authentication"; non selezionare "Enable Docker Support".
3. Come nome indicare "Health.Web"

Note: Provare a lanciare con IIS Express o direttamente, cambiare browser, avviare in debug mode o meno.

# MVC setup
1. Tasto destro sulla solution > Manage NuGet Packages for Solution
2. Cercare e referenziare "Microsoft.AspNetCore.Mvc"
3. Creare nel progetto il folder Controllers
4. Tasto destro su Controllers > Add > Controller... > MVC Controller Empty; dare il nome "HomeController" al controller appena creato
5. Codice del controller:

```csharp
using Microsoft.AspNetCore.Mvc;

namespace Health.Web.Controllers
{
    public class HomeController : Controller
    {
        public IActionResult Index() => Content("Hello MVC!");
    }
}
```

6. Modificare la classe Startup.cs come segue:

```csharp
using Microsoft.AspNetCore.Builder;
using Microsoft.AspNetCore.Hosting;
using Microsoft.AspNetCore.Http;
using Microsoft.Extensions.DependencyInjection;

namespace Health.Web
{
    public class Startup
    {
        public void ConfigureServices(IServiceCollection services)
        {
            services.AddMvc();
        }

        public void Configure(IApplicationBuilder app, IHostingEnvironment env)
        {
            if (env.IsDevelopment())
            {
                app.UseDeveloperExceptionPage();
            }

            /*
             Shortcut per:

             routes.MapRoute(
                name: "default",
                template: "{controller=Home}/{action=Index}/{id?}");
             */
            app.UseMvcWithDefaultRoute();

            app.Run(async (context) =>
            {
                await context.Response.WriteAsync("Oops, something went wrong");
            });
        }
    }
}
```

7. Provare ora a modificare HomeController nel seguente modo:

```csharp
using Microsoft.AspNetCore.Mvc;
using System;

namespace Health.Web.Controllers
{
    public class HomeController : Controller
    {
        public IActionResult Index() => throw new DivideByZeroException("This exception is generated by controller");
    }
}
```

# View
1. Aggiungere al progetto il folder Views
2. Aggiungere il folder Home come subfolder di Views
3. Modificare HomeController come segue:

```csharp
using Microsoft.AspNetCore.Mvc;

namespace Health.Web.Controllers
{
    public class HomeController : Controller
    {
        public IActionResult Index()
        {
            ViewBag.Title = "Hello Razor";

            return View();
        }
    }
}
```

4. Tasto destro su Home > Add > View...:

>* *View name*: Index
>* *Template*: Empty (without model)
>* *Create as a partial view*: non selezionato
>* *Use a layout page*: lasciare selezionato

5. Modificare il file Index.cshtml come segue:

```csharp
<!DOCTYPE html>
<html>
<head>
    <title>@ViewBag.Title</title>
</head>
<body>
    <h1>Hello Razor!</h1>
</body>
</html>
```


# Riferimenti
* ASP.NET: https://docs.microsoft.com/en-us/aspnet/core/?view=aspnetcore-2.0
* Creazione di servizi REST: https://docs.microsoft.com/en-us/aspnet/core/tutorials/first-web-api?view=aspnetcore-2.0
* Autenticazione: https://docs.microsoft.com/en-us/aspnet/core/security/authentication/?view=aspnetcore-2.0
* Razor syntax reference: https://docs.microsoft.com/en-us/aspnet/core/mvc/views/razor?view=aspnetcore-2.0
* Kendo UI book: http://codylindley.github.io/the-kendo-ui-book/
* Template UI: https://adminlte.io/
